CREATE TABLE  account_tax (
id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) primary key,
name varchar(50),
amount DECIMAL(10,2)
);

CREATE TABLE  sale_order (
id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) primary key,
name varchar(50),
date date,
amount_total DECIMAL(10,2),
amount_tax DECIMAL(10,2),
amount_untaxed DECIMAL(10,2), 
);

CREATE TABLE  product_product (
id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) primary key,
name varchar(50),
description varchar(200),
price_unit DECIMAL(10,2),
qty_available DECIMAL(10,2),
active boolean,
tax_id int,
FOREIGN KEY(tax_id) REFERENCES PUBLIC.account_tax(id) ON DELETE CASCADE
);

CREATE TABLE  sale_order_line (
id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) primary key,
product_qty int,
order_id int,
product_id int,
FOREIGN KEY(product_id) REFERENCES PUBLIC.product_product(id) ON DELETE CASCADE,
FOREIGN KEY(order_id) REFERENCES PUBLIC.sale_order(id) ON DELETE CASCADE
);


// delete tables
drop table sale_order_line;
drop table product_product;
drop table sale_order;
drop table tax;

//inserts
insert into account_tax (name,amount) values ('IVA 10%',0.1);

//updates
update account_tax set name='IVA 4%' and amount=0.04 where id=1

//deletes
delete from tax;